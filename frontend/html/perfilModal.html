<!-- 
  MODAL PERFIL ALUNO - CheckBus
  Estilos inline para garantir centralização
-->

<style>
  /* FORÇAR CENTRALIZAÇÃO DOS MODAIS DE PERFIL */
  #modalPerfil,
  #modalAlterarSenha,
  #modalAtualizarEmail,
  #modalAtualizarPerfil {
    display: none;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    background: rgba(0, 0, 0, 0.7) !important;
    backdrop-filter: blur(4px);
    z-index: 99999 !important;
    overflow-y: auto !important;
    padding: 20px !important;
    box-sizing: border-box !important;
  }
  
  /* Quando visível - FLEXBOX CENTRALIZADO */
  #modalPerfil.modal-aberto,
  #modalAlterarSenha.modal-aberto,
  #modalAtualizarEmail.modal-aberto,
  #modalAtualizarPerfil.modal-aberto {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  /* Modal content centralizado */
  #modalPerfil > .modal-content,
  #modalAlterarSenha > .modal-content,
  #modalAtualizarEmail > .modal-content,
  #modalAtualizarPerfil > .modal-content {
    background: white !important;
    border-radius: 16px !important;
    width: 100% !important;
    max-width: 500px !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4) !important;
    animation: modalEntrar 0.3s ease-out;
    margin: 0 !important;
    position: relative !important;
  }
  
  /* Modal de perfil principal maior */
  #modalPerfil > .modal-content {
    max-width: 700px !important;
  }
  
  @keyframes modalEntrar {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(-20px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
</style>

<!-- MODAL PERFIL PRINCIPAL -->
<div id="modalPerfil" class="modal">
  <div class="modal-content">
    <span id="btnFecharPerfil" class="close">&times;</span>
    
    <!-- Header do modal -->
    <div class="modal-header">
      <div class="modal-icon">
        <i class="fas fa-user-circle"></i>
      </div>
      <h2>Meu Perfil</h2>
      <p class="modal-subtitle">Informações da sua conta</p>
    </div>

    <!-- Dados do perfil -->
    <div class="perfil-card">
      <div class="perfil-item">
        <div class="perfil-label">
          <i class="fas fa-user"></i>
          <strong>Nome</strong>
        </div>
        <span id="nomeUsuario" class="perfil-value">Carregando...</span>
      </div>

      <div class="perfil-item">
        <div class="perfil-label">
          <i class="fas fa-envelope"></i>
          <strong>Email</strong>
        </div>
        <span id="emailUsuario" class="perfil-value">Carregando...</span>
      </div>

      <div class="perfil-item">
        <div class="perfil-label">
          <i class="fas fa-fingerprint"></i>
          <strong>ID do Usuário</strong>
        </div>
        <span id="idUsuario" class="perfil-value">Carregando...</span>
      </div>

      <div class="perfil-item">
        <div class="perfil-label">
          <i class="fas fa-id-card"></i>
          <strong>CPF</strong>
        </div>
        <span id="cpfUsuario" class="perfil-value">Carregando...</span>
      </div>

      <div class="perfil-item">
        <div class="perfil-label">
          <i class="fas fa-school"></i>
          <strong>Instituição</strong>
        </div>
        <span id="instituicaoUsuario" class="perfil-value">Carregando...</span>
      </div>

      <div class="perfil-item">
        <div class="perfil-label">
          <i class="fas fa-phone"></i>
          <strong>Telefone</strong>
        </div>
        <span id="telefoneUsuario" class="perfil-value">Carregando...</span>
      </div>

      <div class="perfil-item">
        <div class="perfil-label">
          <i class="fas fa-graduation-cap"></i>
          <strong>Curso</strong>
        </div>
        <span id="cursoUsuario" class="perfil-value">Carregando...</span>
      </div>

      <div class="perfil-item">
        <div class="perfil-label">
          <i class="fas fa-clock"></i>
          <strong>Turno</strong>
        </div>
        <span id="turnoUsuario" class="perfil-value">Carregando...</span>
      </div>

      <div class="perfil-item">
        <div class="perfil-label">
          <i class="fas fa-calendar"></i>
          <strong>Período</strong>
        </div>
        <span id="periodoUsuario" class="perfil-value">Carregando...</span>
      </div>
    </div>

    <!-- Botões de ação -->
    <div class="perfil-modal-buttons">
      <button id="btnAtualizarPerfil" class="btn-primary">
        <i class="fas fa-edit"></i>
        Atualizar Perfil
      </button>
      <button id="btnAtualizarEmail" class="btn-secondary">
        <i class="fas fa-envelope"></i>
        Atualizar E-mail
      </button>
      <button id="btnAlterarSenha" class="btn-tertiary">
        <i class="fas fa-lock"></i>
        Alterar Senha
      </button>
    </div>
  </div>
</div>

<!-- MODAL ALTERAR SENHA -->
<div id="modalAlterarSenha" class="modal">
  <div class="modal-content modal-form">
    <span class="close" id="btnFecharSenha">&times;</span>
    
    <div class="modal-header">
      <div class="modal-icon modal-icon-orange">
        <i class="fas fa-lock"></i>
      </div>
      <h2>Alterar Senha</h2>
      <p class="modal-subtitle">Escolha uma senha forte e segura</p>
    </div>

    <form id="formAlterarSenha" class="modal-form-content">
      <div class="form-group">
        <label for="senhaAtual">
          <i class="fas fa-key"></i>
          Senha Atual
        </label>
        <input type="password" id="senhaAtual" placeholder="Digite sua senha atual" required>
      </div>

      <div class="form-group">
        <label for="novaSenha">
          <i class="fas fa-lock"></i>
          Nova Senha
        </label>
        <input type="password" id="novaSenha" placeholder="Mínimo 6 caracteres" required>
      </div>

      <div class="form-group">
        <label for="confirmaNovaSenha">
          <i class="fas fa-lock"></i>
          Confirmar Nova Senha
        </label>
        <input type="password" id="confirmaNovaSenha" placeholder="Repita a nova senha" required>
      </div>

      <button type="submit" id="btnSalvarSenha" class="btn-submit">
        <i class="fas fa-check"></i>
        Salvar Senha
      </button>
    </form>
  </div>
</div>

<!-- MODAL ATUALIZAR PERFIL -->
<div id="modalAtualizarPerfil" class="modal">
  <div class="modal-content modal-form">
    <span class="close" id="btnFecharAtualizarPerfil">&times;</span>
    
    <div class="modal-header">
      <div class="modal-icon modal-icon-green">
        <i class="fas fa-user-edit"></i>
      </div>
      <h2>Atualizar Perfil</h2>
      <p class="modal-subtitle">Edite suas informações pessoais</p>
    </div>

    <form id="formAtualizarPerfil" class="modal-form-content">
      <div class="form-group">
        <label for="nomeAtualizar">
          <i class="fas fa-user"></i>
          Nome Completo
        </label>
        <input type="text" id="nomeAtualizar" placeholder="Seu nome completo" required>
      </div>

      <div class="form-group">
        <label for="telefoneAtualizar">
          <i class="fas fa-phone"></i>
          Telefone
        </label>
        <input type="text" id="telefoneAtualizar" placeholder="(00) 00000-0000">
      </div>

      <div class="form-group">
        <label for="instituicaoAtualizar">
          <i class="fas fa-school"></i>
          Instituição
        </label>
        <input type="text" id="instituicaoAtualizar" placeholder="Nome da instituição">
      </div>

      <div class="form-group">
        <label for="cursoAtualizar">
          <i class="fas fa-graduation-cap"></i>
          Curso
        </label>
        <input type="text" id="cursoAtualizar" placeholder="Nome do curso">
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="turnoAtualizar">
            <i class="fas fa-clock"></i>
            Turno
          </label>
          <input type="text" id="turnoAtualizar" placeholder="Ex: Matutino">
        </div>

        <div class="form-group">
          <label for="periodoAtualizar">
            <i class="fas fa-calendar"></i>
            Período
          </label>
          <input type="text" id="periodoAtualizar" placeholder="Ex: 3º">
        </div>
      </div>

      <button type="submit" id="btnSalvarPerfil" class="btn-submit">
        <i class="fas fa-save"></i>
        Salvar Alterações
      </button>
    </form>
  </div>
</div>

<!-- MODAL ATUALIZAR EMAIL -->
<div id="modalAtualizarEmail" class="modal">
  <div class="modal-content modal-form">
    <span id="btnFecharEmail" class="close">&times;</span>
    
    <div class="modal-header">
      <div class="modal-icon modal-icon-blue">
        <i class="fas fa-envelope"></i>
      </div>
      <h2>Atualizar E-mail</h2>
      <p class="modal-subtitle">Altere o e-mail da sua conta</p>
    </div>

    <form id="formAtualizarEmail" class="modal-form-content">
      <div class="info-alert">
        <i class="fas fa-info-circle"></i>
        <p>Você receberá um link de verificação no novo e-mail para confirmar a alteração.</p>
      </div>

      <div class="form-group">
        <label for="emailAtual">
          <i class="fas fa-envelope"></i>
          E-mail Atual
        </label>
        <input type="email" id="emailAtual" placeholder="seu.email@atual.com" required readonly>
      </div>

      <div class="form-group">
        <label for="senhaAtualEmail">
          <i class="fas fa-lock"></i>
          Senha Atual
        </label>
        <input type="password" id="senhaAtualEmail" placeholder="Digite sua senha" required>
      </div>

      <div class="form-group">
        <label for="novoEmail">
          <i class="fas fa-envelope"></i>
          Novo E-mail
        </label>
        <input type="email" id="novoEmail" placeholder="seu.novo@email.com" required>
      </div>

      <button type="submit" class="btn-submit">
        <i class="fas fa-paper-plane"></i>
        Enviar Link de Verificação
      </button>
    </form>
  </div>
</div>